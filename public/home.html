<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UZB SMP | Bosh sahifa</title>
  <link rel="icon" type="image/x-icon" href="logo.png">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="userinfo">
        <span>ᴜꜱᴇʀ: <strong class="username"></strong></span>
        <div id="coinr" class="coin-box">
          <img src="gold.webp" class="coin-icon" alt="Coins">
          <strong id="coins"></strong>

        </div>
        <button id="logoutr" class="logout" onclick="logout()"><img class="exit" src="logout.png" alt=""></button>

      </div>
      <div class="navbar">
        <a href="games.html">ɢᴀᴍᴇꜱ</a>
        <a href="home.html">ʜᴏᴍᴇ</a>
        <a href="buytoken.html">ᴛʀᴀᴅɪɴɢ</a>
        <a href="rank.html">ʀᴀɴᴋ</a>
        <a href="shop.html">ꜱʜᴏᴘ</a>
        <a href="event.html">ᴇᴠᴇɴᴛ</a>
        <a href="leaderboard.html">ʟᴇᴀᴅᴇʀʙᴏᴀʀᴅ</a>
        <a href="coin_purchase.html">ᴄᴏɪɴ</a>
        <button id="dfn" class="logout" onclick="logout()">ᴄʜɪǫɪꜱʜ</button>
      </div>
      <div class="user-info">
        <div id="coinboxremove" class="coin-box">
          <img src="gold.webp" class="coin-icon" alt="Coins">
          <strong id="coins2"></strong>

        </div>

      </div>
    </div>
    <div class="title-smp">
      <h1 class="gradient-text">ᴜᴢʙ ꜱᴍᴘ</h1>
      <h1>ɢᴀ xᴜꜱʜ ᴋᴇʟɪʙꜱɪᴢ!</h1>
    </div>
    <div class="banner-rasm">
    <img class="banner-img" src="uploads/banner.png" alt="Banner">
    </div>
    <div class="server-status">
      <p id="response"></p>
      <strong>
      <p>server ip:</p><p style="color: rgb(71, 132, 230);">mc.uzbsmp.uz</p> 
      </strong>
      <div class="status-indicator">
        <span id="serverCircle" class="loading"></span>
  
        <span id="serverHolati">Ma'lumot yuklanmoqda...</span>
      <h2 style="font-size: 20px; color: rgb(2, 165, 2);">Java Edition</h2>

      </div>
    </div>


    <div class="banner-text">
      <h2>Server haqida qisqacha ma'lumot</h2>
      <p>ᴜᴢʙ ꜱᴍᴘ - ʙᴜ ᴍɪɴᴇᴄʀᴀꜰᴛ ᴏ'ʏɪɴɪɴɪɴɢ ᴍᴜʟᴛɪᴘʟᴀʏᴇʀ ꜱᴇʀᴠᴇʀɪ ʙᴏ'ʟɪʙ, ᴜɴᴅᴀ ᴏ'ʏɪɴᴄʜɪʟᴀʀ ᴛᴜʀʟɪ xɪʟ ꜰᴀᴏʟɪʏᴀᴛʟᴀʀ ʙɪʟᴀɴ ꜱʜᴜɢ'ᴜʟʟᴀɴɪꜱʜʟᴀʀɪ ᴍᴜᴍᴋɪɴ. ꜱᴇʀᴠᴇʀᴅᴀ ꜱɪᴢ ᴏ'ʏɪɴ ɪᴄʜɪᴅᴀɢɪ ɪǫᴛɪꜱᴏᴅɪʏᴏᴛ, ᴅᴏ'ᴋᴏɴʟᴀʀ, ʀᴇʏᴛɪɴɢ ᴛɪᴢɪᴍɪ ᴠᴀ ᴋᴏ'ᴘʟᴀʙ ʙᴏꜱʜǫᴀ ǫɪᴢɪǫᴀʀʟɪ ɪᴍᴋᴏɴɪʏᴀᴛʟᴀʀᴅᴀɴ ꜰᴏʏᴅᴀʟᴀɴɪꜱʜɪɴɢɪᴢ ᴍᴜᴍᴋɪɴ. ᴜᴢʙ ꜱᴍᴘ ꜱᴇʀᴠᴇʀɪ ᴏ'ᴢɪɴɪɴɢ ᴅᴏ'ꜱᴛᴏɴᴀ ᴊᴀᴍᴏᴀꜱɪ ᴠᴀ ꜰᴀᴏʟ ᴏ'ʏɪɴ ᴍᴜʜɪᴛɪ ʙɪʟᴀɴ ᴀᴊʀᴀʟɪʙ ᴛᴜʀᴀᴅɪ, ʙᴜ ᴇꜱᴀ ᴏ'ʏɪɴᴄʜɪʟᴀʀɢᴀ ʏᴀɴᴀᴅᴀ ǫɪᴢɪǫᴀʀʟɪ ᴠᴀ ᴍᴀʀᴏǫʟɪ ᴛᴀᴊʀɪʙᴀ ᴛᴀǫᴅɪᴍ ᴇᴛᴀᴅɪ.</p>
    </div>
    <div class="chiziq"></div>
    <div class="wipe">
      <h2>Server wipe sanasi:</h2>
      <h3>har fasilni 1 - kunidan</h3>
    </div>
    <div class="chiziq"></div>
    <div class="voice-chat">
      <img class="voice-chat-img" src="voice-chat.webp" alt="Voice Chat">
      <div class="text-btn">
        <p>ꜱᴇʀᴠᴇʀɪᴍɪᴢᴅᴀ ᴏ'ʏɪɴᴄʜɪʟᴀʀ ᴏ'ʀᴛᴀꜱɪᴅᴀ ᴍᴜʟᴏǫᴏᴛɴɪ ᴏꜱᴏɴʟᴀꜱʜᴛɪʀɪꜱʜ ᴜᴄʜᴜɴ ᴠᴏɪᴄᴇ ᴄʜᴀᴛ ꜰᴜɴᴋꜱɪʏᴀꜱɪ ᴍᴀᴠᴊᴜᴅ. ʙᴜ ɪᴍᴋᴏɴɪʏᴀᴛ
          ʏᴏʀᴅᴀᴍɪᴅᴀ ꜱɪᴢ ᴅᴏ'ꜱᴛʟᴀʀɪɴɢɪᴢ ʙɪʟᴀɴ ʀᴇᴀʟ ᴠᴀǫᴛ ʀᴇᴊɪᴍɪᴅᴀ ꜱᴜʜʙᴀᴛʟᴀꜱʜɪꜱʜɪɴɢɪᴢ ᴍᴜᴍᴋɪɴ, ʙᴜ ᴇꜱᴀ ᴊᴀᴍᴏᴀᴠɪʏ ᴏ'ʏɪɴ
          ᴛᴀᴊʀɪʙᴀꜱɪɴɪ ʏᴀɴᴀᴅᴀ ʏᴀxꜱʜɪʟᴀʏᴅɪ. ᴠᴏɪᴄᴇ ᴄʜᴀᴛ ᴏʀǫᴀʟɪ ꜱᴛʀᴀᴛᴇɢɪʏᴀʟᴀʀɴɪ ᴍᴜʜᴏᴋᴀᴍᴀ ǫɪʟɪꜱʜ, ʏᴏʀᴅᴀᴍ ꜱᴏ'ʀᴀꜱʜ ʏᴏᴋɪ
          ꜱʜᴜɴᴄʜᴀᴋɪ ꜱᴜʜʙᴀᴛʟᴀꜱʜɪꜱʜ ᴍᴜᴍᴋɪɴ, ʙᴜ ᴇꜱᴀ ᴏ'ʏɪɴɴɪ ʏᴀɴᴀᴅᴀ ǫɪᴢɪǫᴀʀʟɪ ᴠᴀ ɪɴᴛᴇʀᴀᴋᴛɪᴠ ǫɪʟᴀᴅɪ.</p>
        <a href="https://www.curseforge.com/minecraft/mc-mods/simple-voice-chat" target="_blank"><button
            class="download-voice-chat">o'rnatish</button></a>
      </div>
    </div>
    <script src="script.js"></script>
    <script>
      const ServerStatus = document.getElementById('serverHolati');
      const serverCircle = document.getElementById('serverCircle');

      // Loading boshlanishida animatsiya qo‘shiladi
      serverCircle.classList.add("loading");
      ServerStatus.innerText = "Ma'lumot yuklanmoqda...";

      fetch('http://localhost:3000/mc-status')
        .then(response => response.json())
        .then(data => {
          // Loading animatsiyasi tugadi va border yo'qoladi
          serverCircle.classList.remove("loading");
          serverCircle.style.border = "none"; // chiziqni olib tashlaymiz

          // O'yinchilar soni
          document.getElementById('response').innerText =
            `Online o'yinchilar: ${data.playersOnline}/${data.playersMax}`;

          // Server statusi va rang
          if (data.online) {
            ServerStatus.innerText = 'Server online';
            serverCircle.style.backgroundColor = '#22c55e'; // yashil
          } else {
            ServerStatus.innerText = 'Server offline';
            serverCircle.style.backgroundColor = '#ef4444'; // qizil
          }
        })
        .catch(error => {
          ServerStatus.innerText = 'Ma\'lumot olishda xato';
          serverCircle.style.backgroundColor = 'gray';
          console.error('Error fetching data:', error);
        });
      fetch('http://localhost:3000/banner-url')
        .then(res => res.json())
        .then(data => {
          document.querySelector('.banner-img').src = data.url;
        });

    </script>
</body>

</html>